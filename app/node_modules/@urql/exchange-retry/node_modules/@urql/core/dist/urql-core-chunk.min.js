var e=require("graphql"),r=require("wonka"),t=r=>r instanceof e.GraphQLError?r:"object"==typeof r&&r.message?new e.GraphQLError(r.message,r.nodes,r.source,r.positions,r.path,r,r.extensions||{}):new e.GraphQLError(r);class n extends Error{constructor(e){var r=(e.graphQLErrors||[]).map(t),n=((e,r)=>{var t="";if(e)return`[Network] ${e.message}`;if(r)for(var n of r)t&&(t+="\n"),t+=`[GraphQL] ${n.message}`;return t})(e.networkError,r);super(n),this.name="CombinedError",this.message=n,this.graphQLErrors=r,this.networkError=e.networkError,this.response=e.response}toString(){return this.message}}var o=(e,r)=>{for(var t="number"==typeof r?0|r:5381,n=0,o=0|e.length;n<o;n++)t=(t<<5)+t+e.charCodeAt(n);return t},a=new Set,s=new WeakMap,i=e=>{if(null===e||a.has(e))return"null";if("object"!=typeof e)return JSON.stringify(e)||"";if(e.toJSON)return i(e.toJSON());if(Array.isArray(e)){var r="[";for(var t of e)"["!==r&&(r+=","),r+=(t=i(t)).length>0?t:"null";return r+"]"}var n=Object.keys(e).sort();if(!n.length&&e.constructor&&e.constructor!==Object){var o=s.get(e)||Math.random().toString(36).slice(2);return s.set(e,o),`{"__key":"${o}"}`}a.add(e);var p="{";for(var l of n){var c=i(e[l]);c&&(p.length>1&&(p+=","),p+=i(l)+":"+c)}return a.delete(e),p+"}"},p=e=>(a.clear(),i(e)),l=/("{3}[\s\S]*"{3}|"(?:\\.|[^"])*")/g,c=/(#[^\n\r]+)?(?:\n|\r\n?|$)+/g,u=(e,r)=>r%2==0?e.replace(c,"\n"):e,f=e=>e.split(l).map(u).join("").trim(),d=new Map,h=new Map,v=r=>{var t;return"string"==typeof r?t=f(r):r.loc&&h.get(r.__key)===r?t=r.loc.source.body:(t=d.get(r)||f(e.print(r)),d.set(r,t)),"string"==typeof r||r.loc||(r.loc={start:0,end:t.length,source:{body:t,name:"gql",locationOffset:{line:1,column:1}}}),t},x=e=>{var r=o(v(e));if("object"==typeof e&&"definitions"in e){var t=g(e);t&&(r=o(`\n# ${t}`,r))}return r},y=r=>{var t,n;return"string"==typeof r?(t=x(r),n=h.get(t)||e.parse(r,{noLocation:!0})):(t=r.__key||x(r),n=h.get(t)||r),n.loc||v(n),n.__key=t,h.set(t,n),n},g=r=>{for(var t of r.definitions)if(t.kind===e.Kind.OPERATION_DEFINITION&&t.name)return t.name.value},m=(e,r,t)=>{if(!("data"in r)&&!("errors"in r)||"incremental"in r)throw new Error("No Content");var o="subscription"===e.kind;return{operation:e,data:r.data,error:Array.isArray(r.errors)?new n({graphQLErrors:r.errors,response:t}):void 0,extensions:"object"==typeof r.extensions&&r.extensions||void 0,hasNext:null==r.hasNext?o:r.hasNext}},b=(e,r,t)=>{var o,a=!!e.extensions||!!r.extensions,s={...e.extensions,...r.extensions},i=e.error?e.error.graphQLErrors:[],p=r.incremental;if("path"in r&&(p=[{data:r.data,path:r.path}]),p)for(var l of(o={...e.data},p)){Array.isArray(l.errors)&&i.push(...l.errors),l.extensions&&(Object.assign(s,l.extensions),a=!0);for(var c=l.path[0],u=o,f=1,d=l.path.length;f<d;c=l.path[f++])u=u[c]=Array.isArray(u[c])?[...u[c]]:{...u[c]};if(Array.isArray(l.items))for(var h=+c>=0?c:0,v=0,x=l.items.length;v<x;v++)u[h+v]=l.items[v];else void 0!==l.data&&(u[c]=u[c]&&l.data?{...u[c],...l.data}:l.data)}else o=r.data||e.data;return{operation:e.operation,data:o,error:i.length?new n({graphQLErrors:i,response:t}):void 0,extensions:a?s:void 0,hasNext:!!r.hasNext}},k=(e,r,t)=>({operation:e,data:void 0,error:new n({networkError:r,response:t}),extensions:void 0}),O="undefined"!=typeof TextDecoder?new TextDecoder:null,w=/content-type:[^\r\n]*application\/json/i,N=/boundary="?([^=";]+)"?/i;exports.CombinedError=n,exports.createRequest=(e,r)=>{r||(r={});var t=y(e),n=p(r),a=t.__key;return"{}"!==n&&(a=o(n,a)),{key:a,query:t,variables:r}},exports.getOperationName=g,exports.getOperationType=r=>{for(var t of r.definitions)if(t.kind===e.Kind.OPERATION_DEFINITION)return t.operation},exports.keyDocument=y,exports.makeErrorResult=k,exports.makeFetchBody=function(e){return{query:v(e.query),operationName:g(e.query),variables:e.variables||void 0,extensions:void 0}},exports.makeFetchOptions=(e,r)=>{var t="query"===e.kind&&!!e.context.preferGetMethod,n={accept:"multipart/mixed, application/graphql-response+json, application/graphql+json, application/json"};t||(n["content-type"]="application/json");var o=("function"==typeof e.context.fetchOptions?e.context.fetchOptions():e.context.fetchOptions)||{};if(o.headers)for(var a in o.headers)n[a.toLowerCase()]=o.headers[a];return{...o,body:!t&&r?JSON.stringify(r):void 0,method:t?"GET":"POST",headers:n}},exports.makeFetchSource=(e,t,n)=>{var o="manual"===n.redirect?400:300,a=e.context.fetch;return r.make((({next:r,complete:s})=>{var i="undefined"!=typeof AbortController?new AbortController:null;i&&(n.signal=i.signal);var p,l=!1,c=!1,u=!1;return Promise.resolve().then((()=>{if(!c)return(a||fetch)(t,n)})).then((t=>{if(t)return u=(p=t).status<200||p.status>=o,((e,r,t)=>{var n=t.headers&&t.headers.get("Content-Type")||"";if(/text\//i.test(n))return t.text().then((n=>{e(k(r,new Error(n),t))}));if(!/multipart\/mixed/i.test(n))return t.text().then((n=>{e(m(r,JSON.parse(n),t))}));var o,a="---",s=n.match(N);s&&(a="--"+s[1]);var i=()=>{};if(t[Symbol.asyncIterator]){var p=t[Symbol.asyncIterator]();o=p.next.bind(p)}else{if(!("body"in t)||!t.body)throw new TypeError("Streaming requests unsupported");var c=t.body.getReader();i=()=>c.cancel(),o=()=>c.read()}var u="",f=!0,d=null,h=null;return o().then((function n(s){if(s.done)l=!0;else{var i="Buffer"===(N=s.value).constructor.name?N.toString():O.decode(N),p=i.indexOf(a);for(p>-1?p+=u.length:p=u.indexOf(a),u+=i;p>-1;){var c=u.slice(0,p),v=u.slice(p+a.length);if(f)f=!1;else{var x=c.indexOf("\r\n\r\n")+4,y=c.slice(0,x),g=c.slice(x,c.lastIndexOf("\r\n")),k=void 0;if(w.test(y))try{k=JSON.parse(g),d=h=h?b(h,k,t):m(r,k,t)}catch(e){}if("--"===v.slice(0,2)||k&&!k.hasNext){if(!h)return e(m(r,{},t));break}}p=(u=v).indexOf(a)}}var N;if(d&&(e(d),d=null),!s.done&&(!h||h.hasNext))return o().then(n)})).finally(i)})(r,e,p)})).then(s).catch((t=>{if(l)throw t;var n=k(e,u&&p.statusText?new Error(p.statusText):t,p);r(n),s()})),()=>{c=!0,i&&i.abort()}}))},exports.makeFetchURL=(e,r)=>{var t="query"===e.kind&&e.context.preferGetMethod;if(!t||!r)return e.context.url;var n=new URL(e.context.url),o=n.searchParams;r.operationName&&o.set("operationName",r.operationName),r.query&&o.set("query",r.query),r.variables&&o.set("variables",p(r.variables)),r.extensions&&o.set("extensions",p(r.extensions));var a=n.toString();return a.length>2047&&"force"!==t?(e.context.preferGetMethod=!1,e.context.url):a},exports.makeResult=m,exports.mergeResultPatch=b,exports.stringifyDocument=v,exports.stringifyVariables=p;
//# sourceMappingURL=urql-core-chunk.min.js.map
